<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pawiwahan Cahaya & Natasha</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Sacramento&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    
    <!-- simplyCountdown -->
    <link rel="stylesheet" href="dist/themes/default.css" />
    <script src="dist/simplyCountdown.umd.js"></script>

    <!-- Bootstrap Icon -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />

    <!-- AOS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <section
      id="hero"
      class="hero w-100 h-100 p-3 mx-auto text-center d-flex justify-content-center align-items-center text-white"
    >
      <main>
        <h4>Kepada Bapak/Ibu/Saudara/i,</h4>
        <h1>Cahaya & Natasha</h1>
        <p>Akan melangsungkan upacara pernikahan (pawiwahan) dalam :</p>
        <div class="simply-countdown"></div>
        <a href="#home" class="btn btn-lg mt-4" onclick="enableScroll()"
          >Lihat Undangan</a
        >
      </main>
    </section>

    <nav class="navbar navbar-expand-md bg-transparent sticky-top mynavbar">
      <div class="container">
        <a class="navbar-brand" href="#"> Pawiwahan Cahaya & Natasha </a>
        <button
          class="navbar-toggler border-0"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasExample"
          aria-controls="offcanvasExample"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div
          class="offcanvas offcanvas-start"
          tabindex="-1"
          id="offcanvasExample"
          aria-labelledby="offcanvasExampleLabel"
        >
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasExampleLabel">
              Pawiwahan Cahaya & Natasha
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="offcanvas"
              aria-label="Close"
            ></button>
          </div>
          <div class="offcanvas-body">
            <div class="navbar-nav ms-auto">
              <a class="nav-link" href="#home">Home</a>
              <a class="nav-link" href="#info">Info</a>
              <a class="nav-link" href="#gallery">Gallery</a>
              <a class="nav-link" href="#rsvp">RSVP</a>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <section id="home" class="home">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-8 text-center">
            <h2 data-aos="fade-up">Om Swastyastu</h2>
            <p data-aos="fade-up">
              Atas Asung Kerta Wara Nugraha Ida Sang Hyang Widhi Wasa/Tuhan yang
              Maha Esa, kami bermaksud mengundang Bapak/Ibu/Saudara/i, pada
              Acara Pernikahan (Pawiwahan) putra putri kami yang
              akan diselenggarakan pada:
            </p>
            <h3 data-aos="fade-up">
              Senin, 7 Juli 2025 di Taman Griya, Jimbaran, Badung.
            </h3>
          </div>
        </div>

        <div class="row couple">
          <div class="col-lg-6">
            <div class="row">
              <div class="col-8 text-end">
                <h3 data-aos="fade-right">
                  Cahaya Tirta Putra
                </h3>
                <div data-aos="fade-right">
                  <p>a.k.a <span style="font-weight: bold">Cahaya</span></p>
                  <p>
                    Anak keempat dari pasangan <br />
                    <span style="font-weight: bold"
                      >Bpk. Tangkas Agus Sucita
                    </span>
                    dan <br />
                    <span style="font-weight: bold"
                      >Ibu. Revalina Putri
                    </span>
                  </p>
                </div>
              </div>
              <div class="col-4" data-aos="fade-right">
                <img
                  src="img/profil/cahaya.jpg"
                  alt="Cahaya Tirta"
                  class="img-responsive rounded-circle mb-5"
                />
              </div>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="row">
              <div class="col-4" data-aos="fade-left">
                <img
                  src="img/profil/natasha.jpg"
                  alt="Natasha Wilona"
                  class="img-responsive rounded-circle"
                />
              </div>
              <div class="col-8">
                <h3 data-aos="fade-left">
                  Natasha Wilona Putri
                </h3>
                <div data-aos="fade-left">
                  <p>a.k.a <span style="font-weight: bold">Natasha</span></p>
                  <p>
                    Anak pertama dari pasangan <br />
                    <span style="font-weight: bold"
                      >Bpk. Aryadana Baraja Putra
                    </span>
                    dan <br />
                    <span style="font-weight: bold"
                      >Ibu. Laras Ayuningtyas</span
                    >
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="info" class="info">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-8 col-10 text-center">
            <h2 data-aos="fade-up">Informasi Acara</h2>
            <p class="alamat" data-aos="fade-up">
              Alamat: Taman Griya <br />
              Jl. Raya Mandiri Gg. VIII, Jimbaran, Kec. Kuta Sel.,
              Kabupaten Badung, Bali
            </p>
            
            <iframe
              src="https://www.google.com/maps/embed?pb=!4v1745776107668!6m8!1m7!1s03BcEdBCWdY0Nq6ZYZpZwQ!2m2!1d-8.79034084539289!2d115.190242989154!3f102.01171333925512!4f-8.857719385822008!5f0.7820865974627469"
              width="100%"
              height="350"
              style="border: 0"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              data-aos="zoom-in"
            ></iframe>

            <a
              href="https://maps.app.goo.gl/qPcAb6Bv9G4QQjk88"
              target="_blank"
              class="btn btn-light mt-3"
              data-aos="fade-up"
              >üìçKlik untuk membuka peta</a
            >
            <p class="description" data-aos="fade-up">
              Diharapkan untuk tidak salah alamat dan tanggal. Manakala tiba di
              tujuan namun tidak ada tanda - tanda sedang dilangsungkan upacara
              Pawiwahan, boleh jadi anda salah jadwal atau salah tempat.
            </p>
          </div>
        </div>

        <div class="row justify-content-center mt-4">
          <div class="col-md-5 col-10" data-aos="fade-right">
            <div class="card text-center text-bg-light mb-5">
              <div class="card-header">Puncak Acara</div>
              <div class="card-body">
                <div class="row justify-content-center">
                  <div class="col-md-6">
                    <i class="bi bi-clock d-block"></i>
                    <span>07.00 - 12.00</span>
                  </div>
                  <div class="col-md-6">
                    <i class="bi bi-calendar3 d-block"></i>
                    <span>Senin, 7 Juli 2025</span>
                  </div>
                </div>
              </div>
              <div class="card-footer">Upacara Pawiwahan Berlangsung</div>
            </div>
          </div>

          <div class="col-md-5 col-10" data-aos="fade-left">
            <div class="card text-center text-bg-light">
              <div class="card-header">Resepsi Acara</div>
              <div class="card-body">
                <div class="row justify-content-center">
                  <div class="col-md-6">
                    <i class="bi bi-clock d-block"></i>
                    <span>13.00 - Selesai</span>
                  </div>
                  <div class="col-md-6">
                    <i class="bi bi-calendar3 d-block"></i>
                    <span>Senin, 7 Juli 2025</span>
                  </div>
                </div>
              </div>
              <div class="card-footer">Resepsi Setelah Pawiwahan</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="gallery" class="gallery">
      <div class="container px-3">
        <div class="row justify-content-center">
          <div class="col-md-8 col-10 text-center">
            <h2 data-aos="fade-up">Galeri Foto</h2>
            <p data-aos="fade-up">
              Galeri ini menampilkan foto sebelum upacara Pawiwahan,
              menggambarkan keindahan, kebahagiaan, dan kesiapan dalam balutan
              adat Bali.
            </p>
            <span data-aos="fade-up">Klik foto untuk memperbesar</span>
          </div>
        </div>

        <div
          class="row row-cols-md-3 row-cols-sm-2 row-cols-1 g-3 justify-content-center gallery-container"
          data-aos="fade-up"
        >
          <div class="col mt-3">
            <a href="img/gallery/image.jpg" data-toggle="lightbox">
              <img
                src="img/gallery/thumbnail/image.jpg"
                alt=""
                class="img-fluid w-100 rounded gallery-img"
              />
            </a>
          </div>
          <div class="col mt-3">
            <a href="img/gallery/image.jpg" data-toggle="lightbox">
              <img
                src="img/gallery/thumbnail/image.jpg"
                alt=""
                class="img-fluid w-100 rounded gallery-img"
              />
            </a>
          </div>
          <div class="col mt-3">
            <a href="img/gallery/image.jpg" data-toggle="lightbox">
              <img
                src="img/gallery/thumbnail/image.jpg"
                alt=""
                class="img-fluid w-100 rounded gallery-img"
              />
            </a>
          </div>
          <div class="col mt-3">
            <a href="img/gallery/image.jpg" data-toggle="lightbox">
              <img
                src="img/gallery/thumbnail/image.jpg"
                alt=""
                class="img-fluid w-100 rounded gallery-img"
              />
            </a>
          </div>
          <div class="col mt-3">
            <a href="img/gallery/image.jpg" data-toggle="lightbox">
              <img
                src="img/gallery/thumbnail/image.jpg"
                alt=""
                class="img-fluid w-100 rounded gallery-img"
              />
            </a>
          </div>
          <div class="col mt-3">
            <a href="img/gallery/image.jpg" data-toggle="lightbox">
              <img
                src="img/gallery/thumbnail/image.jpg"
                alt=""
                class="img-fluid w-100 rounded gallery-img"
              />
            </a>
          </div>
        </div>
      </div>
    </section>

    <section id="rsvp" class="rsvp">
      <div class="container px-3">
        <div class="row justify-content-center">
          <div class="col-md-8 col-10 text-center">
            <h2 data-aos="fade-up">Konfirmasi Kehadiran</h2>
            <p data-aos="fade-up">
              Isi form di bawah ini untuk melakukan konfirmasi kehadiran anda.
            </p>
          </div>
        </div>

        <form
          class="d-flex justify-content-center align-items-center flex-wrap gap-2 w-100"
          method="POST"
          action="https://script.google.com/macros/s/AKfycbxpa6TKVUlCKusY4hTxA-YWcryLbMSdsw0XdEn9M1U4nVM1BSoXr3b7W0lmajDYqHMF/exec"
          id="my-form"
          data-aos="fade-up"
        >
          <div class="d-flex flex-column">
              <label for="nama" class="form-label">Nama</label>
              <input type="text" class="form-control" id="nama" name="nama" placeholder="Nama Panggilan" required/>
            </div>
          
          <div class="d-flex flex-column">
              <label for="status" class="form-label">Konfirmasi</label>
              <select name="status" id="status" class="form-select" required>
                <option value="" selected disabled>Pilih salah satu</option>
                <option value="Hadir">Hadir</option>
                <option value="Tidak Hadir">Tidak Hadir</option>
              </select>
            </div>
          
          <div class="d-flex align-self-end">
            <button class="btn btn-primary btn-submit" type="submit">Kirim</button>
          </div>
        </form>

      </div>
    </section>

    <footer>
      <div class="container">
        <div class="row">
          <div class="col text-center">
            <small class="block"
              >&copy; Pawiwahan Cahaya & Natasha 2025. All Rights Reserved.</small
            >

            <ul class="mt-3">
              <li>
                <a href="https://instagram.com/aryadanabaraja" target="_blank">
                  <i class="bi bi-instagram"></i>
                </a>
              </li>
              <li>
                <a href="https://www.youtube.com/@13_imadegedearyadanabaraja62" target="_blank">
                  <i class="bi bi-youtube"></i>
                </a>
              </li>
              <li>
                <a href="https://www.facebook.com/aryadana.baraja.2025/" target="_blank">
                  <i class="bi bi-facebook"></i>
                </a>
              </li>
              <li>
                <a href="https://www.tiktok.com/@yayakgans" target="_blank">
                  <i class="bi bi-tiktok"></i>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

    <div id="audio-container">
      <audio id="song" autoplay loop>
        <source src="audio/backsound-mepandes-web.mp3" type="audio/mp3" />
      </audio>

      <div class="audio-icon-wrapper" style="display: none">
        <i class="bi bi-disc"></i>
      </div>
    </div>

    <!-- Bootstrap -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <!-- Lightbox -->
    <script src="https://cdn.jsdelivr.net/npm/bs5-lightbox@1.8.3/dist/index.bundle.min.js"></script>

    <!-- Sweet Alert -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- AOS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init();
    </script>

    <script>
      simplyCountdown(".simply-countdown", {
        year: 2025, // Target year (required)
        month: 7, // Target month [1-12] (required)
        day: 7, // Target day [1-31] (required)
        words: {
          // Custom labels, with lambda for plurals
          days: {
            root: "hari",
            lambda: (root, n) => (n > 1 ? root + "" : root),
          },
          hours: {
            root: "jam",
            lambda: (root, n) => (n > 1 ? root + "" : root),
          },
          minutes: {
            root: "menit",
            lambda: (root, n) => (n > 1 ? root + "" : root),
          },
          seconds: {
            root: "detik",
            lambda: (root, n) => (n > 1 ? root + "" : root),
          },
        },
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const offcanvasElement = document.getElementById("offcanvasExample");
        const offcanvas = new bootstrap.Offcanvas(offcanvasElement);
        const navLinks = document.querySelectorAll(".offcanvas-body .nav-link");

        navLinks.forEach(link => {
          link.addEventListener("click", function () {
            offcanvas.hide(); // Menutup offcanvas setelah klik menu
          });
        });
      });
    </script>

    <script>
      const rootElement = document.documentElement; // Ambil elemen <html>
      const audioIconWrapper = document.querySelector(".audio-icon-wrapper");
      const audioIcon = document.querySelector(".audio-icon-wrapper i");
      const audio = document.getElementById("song");
      let isPlaying = false;

      function disableScroll() {
        // Paksa scroll ke bagian atas sebelum mengunci scroll
        window.scrollTo(0, 0);

        // Tambahkan CSS untuk menonaktifkan scroll
        document.body.style.overflow = "hidden";
        document.documentElement.style.overflow = "hidden";

        // Pastikan posisi tetap tidak berubah
        document.body.style.position = "fixed";
        document.body.style.top = "0"; // Diubah dari scrollTop agar tidak nge-freeze
        document.body.style.width = "100%";

        rootElement.style.scrollBehavior = "auto";
      }

      function enableScroll() {
        // Hapus efek yang menonaktifkan scroll
        document.body.style.overflow = "";
        document.documentElement.style.overflow = "";
        document.body.style.position = "";
        document.body.style.top = "";
        document.body.style.width = "";

        // Pastikan scroll tetap ke atas saat diaktifkan
        window.scrollTo(0, 0);

        rootElement.style.scrollBehavior = "smooth";
        // localStorage.setItem('opened', 'true');
        playAudio();
      }
      function playAudio() {
        audio.volume = 0.7;
        audio.play();
        isPlaying = true;

        audioIconWrapper.style.display = "flex";
      }

      audioIconWrapper.onclick = function () {
        if (isPlaying) {
          audio.pause();
          audioIcon.classList.remove("bi-disc");
          audioIcon.classList.add("bi-pause-circle");
        } else {
          audio.play();
          audioIcon.classList.add("bi-disc");
          audioIcon.classList.remove("bi-pause-circle");
        }

        isPlaying = !isPlaying;
      };

      // Deteksi jika user keluar dari halaman (beralih tab atau minimize)
      document.addEventListener("visibilitychange", function () {
        if (document.hidden) {
          audio.pause();
          audioIcon.classList.remove("bi-disc");
          audioIcon.classList.add("bi-pause-circle");
          isPlaying = false;
        } else {
          audio.play();
          audioIcon.classList.add("bi-disc");
          audioIcon.classList.remove("bi-pause-circle");
          isPlaying = true;
        }
      });

      // Paksa kembali ke atas saat halaman di-refresh
      window.addEventListener("load", () => {
        window.scrollTo(0, 0);
        disableScroll();
      });
    </script>

    <script>
      // Replace this URL with your actual deployed Google Apps Script web app URL
      const scriptURL = 'https://script.google.com/macros/s/AKfycbxpa6TKVUlCKusY4hTxA-YWcryLbMSdsw0XdEn9M1U4nVM1BSoXr3b7W0lmajDYqHMF/exec';
      
      window.addEventListener("load", function() {
        const form = document.getElementById("my-form");
        const submitButton = form.querySelector("button[type='submit']");
        
        form.addEventListener("submit", function(e) {
          e.preventDefault();
          submitButton.disabled = true; // Disable button while submitting
          
          const formData = new FormData(form);
          
          fetch(scriptURL, {
            method: "POST",
            body: formData,
            mode: 'no-cors' // This is important when working with Google Apps Script
          })
          .then(() => {
            // Note: With mode: 'no-cors', we can't actually read the response
            // So we assume success if there's no error
            Swal.fire({
              position: "center",
              icon: "success",
              title: "Berhasil Terkirim!",
              showConfirmButton: false,
              timer: 1500
            });
            form.reset(); // Reset form after success
            
            // Re-enable button after 3 seconds
            setTimeout(() => {
              submitButton.disabled = false;
            }, 3000);
          })
          .catch(error => {
            console.error('Error!', error.message);
            Swal.fire({
              position: "center",
              icon: "error",
              title: "Gagal Mengirim!",
              text: "Coba lagi nanti.",
              showConfirmButton: true
            });
            submitButton.disabled = false; // Re-enable button if there's an error
          });
        });
      });
    </script>
  </body>
</html>
